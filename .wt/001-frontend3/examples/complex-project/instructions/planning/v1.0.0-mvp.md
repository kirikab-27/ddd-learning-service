# MVP v1.0.0 計画 - SaaS App with RAG

**Date**: 2025-11-18
**Version**: 1.0.0 MVP
**Status**: Planning

---

## 📋 プロジェクト概要

### ビジョン

AI搭載のナレッジ管理SaaSアプリケーション。
ユーザーはドキュメントをアップロードし、セマンティック検索で高度な情報検索を実現。

### MVP範囲

**含む機能**:
- ユーザー認証（Supabase Auth）
- ドキュメント管理（CRUD）
- RAG（Retrieval-Augmented Generation）システム
- セマンティック検索UI

**含まない機能**（将来バージョン）:
- チーム機能
- ファイルアップロード
- LLMチャット機能
- 課金システム

---

## 🏗️ 技術スタック

### フロントエンド
- **Next.js** 14+ (App Router)
- **TypeScript** 5+
- **Tailwind CSS**

### バックエンド/インフラ
- **Supabase**
  - Auth（認証）
  - Vector Store（pgvector）
- **OpenAI API**
  - Embeddings（text-embedding-3-small）

---

## 📐 チケット構成

### チケット001: 認証機能

**優先度**: High
**期間**: 2日
**Workers**: 3 Workers
**Tier**: Tier1-3（順次実行）

#### Worker割り当て

| Worker | 担当タスク | Tier | 依存関係 |
|--------|-----------|------|---------|
| Worker1 | Supabase Auth設定 | Tier1 | なし |
| Worker2 | Auth UI実装 | Tier2 | Worker1 |
| Worker3 | Protected Routes | Tier3 | Worker2 |

#### DoD
- Supabase Auth設定完了
- ログイン・サインアップUI完成
- 保護ルート実装完了
- TypeScriptエラー 0件

---

### チケット002: RAG統合

**優先度**: High
**期間**: 3日
**Workers**: 6 Workers
**Tier**: Tier1-4（混合）

#### Worker割り当て

| Worker | 担当タスク | Tier | 依存関係 |
|--------|-----------|------|---------|
| Worker1 | Supabase Vector設定 | Tier1 | なし |
| Worker2 | OpenAI Embeddings | Tier1 | なし |
| Worker3 | Vector DB操作 | Tier2 | Worker1,2 |
| Worker4 | RAGロジック | Tier3 | Worker3 |
| Worker5 | 類似検索UI | Tier4 | Worker4 |
| Worker6 | セマンティック検索UI | Tier4 | Worker4 |

#### Tier構造

```
Tier1: Worker1 (Supabase Vector), Worker2 (OpenAI) - 並列実行
  ↓
Tier2: Worker3 (Vector DB操作)
  ↓
Tier3: Worker4 (RAGロジック)
  ↓
Tier4: Worker5 (類似検索UI), Worker6 (セマンティック検索UI) - 並列実行
```

#### DoD
- Supabase pgvector設定完了
- OpenAI Embeddings統合完了
- Vector DB CRUD操作実装
- indexDocument(), searchSimilar()実装
- 類似検索UI完成
- セマンティック検索UI完成
- TypeScriptエラー 0件

---

## 🎯 実装フェーズ

### Phase 1: 基盤構築（チケット001）

**目標**: ユーザー認証完成

**成果物**:
- Supabase Auth設定
- ログイン・サインアップページ
- 保護ルート

**期間**: 2日

---

### Phase 2: RAG統合（チケット002）

**目標**: セマンティック検索機能完成

**成果物**:
- Supabase Vector Store
- OpenAI Embeddings
- Vector DB操作
- RAGロジック
- 検索UI（類似検索 + セマンティック検索）

**期間**: 3日

---

## ✅ MVP DoD（全体）

- [ ] チケット001完了（認証）
- [ ] チケット002完了（RAG）
- [ ] npm run build成功
- [ ] TypeScriptエラー 0件
- [ ] ESLint警告 0件
- [ ] E2Eテスト成功（オプション）

---

## 📊 リスク管理

### 技術リスク

| リスク | 影響度 | 対策 |
|-------|-------|-----|
| Supabase Vector設定ミス | High | Worker1で早期検証 |
| OpenAI APIレート制限 | Medium | エラーハンドリング実装 |
| Embedding次元不一致 | High | 型定義で厳密化 |

### プロジェクトリスク

| リスク | 影響度 | 対策 |
|-------|-------|-----|
| Worker間の依存関係ミス | High | Tier構造明確化 |
| 統合確認不足 | Medium | Boss1の厳格なチェック |

---

## 🚀 次のアクション

1. Boss1がチケット001をPresidentから受け取る
2. Worker1-3に認証タスクを割り振り
3. チケット001完了後、チケット002開始
4. Worker1-6にRAGタスクを割り振り（Tier1から順次）
5. 統合確認とPresident報告

---

## 📝 備考

- **BookRAG Managerの成功実績を活用**
  - Protocol Improvement 3（11連続成功）のノウハウ
  - DoD 100%達成の厳格性
- **Tier構造の重要性**
  - 依存関係を明確化
  - 並列実行の最適化
- **Planning Phaseの価値**
  - 事前の設計でWorker迷走防止
  - リスク早期発見

このMVP計画に従って、高品質なSaaSアプリを構築します。

**Planning Team**
